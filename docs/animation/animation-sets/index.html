<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.99.1" />
    <meta name="description" content="">


    <link rel="icon" href="/zomboid-modeling-docs/images/favicon.png" type="image/png">

    <title>Animation Sets :: Zomboid Modeling Docs</title>

    
    <link href="/zomboid-modeling-docs/css/nucleus.css?1653771638" rel="stylesheet">
    <link href="/zomboid-modeling-docs/css/fontawesome-all.min.css?1653771638" rel="stylesheet">
    <link href="/zomboid-modeling-docs/css/hybrid.css?1653771638" rel="stylesheet">
    <link href="/zomboid-modeling-docs/css/featherlight.min.css?1653771638" rel="stylesheet">
    <link href="/zomboid-modeling-docs/css/perfect-scrollbar.min.css?1653771638" rel="stylesheet">
    <link href="/zomboid-modeling-docs/css/auto-complete.css?1653771638" rel="stylesheet">
    <link href="/zomboid-modeling-docs/css/atom-one-dark-reasonable.css?1653771638" rel="stylesheet">
    <link href="/zomboid-modeling-docs/css/theme.css?1653771638" rel="stylesheet">
    <link href="/zomboid-modeling-docs/css/tabs.css?1653771638" rel="stylesheet">
    <link href="/zomboid-modeling-docs/css/hugo-theme.css?1653771638" rel="stylesheet">
    
    

    <script src="/zomboid-modeling-docs/js/jquery-3.3.1.min.js?1653771638"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/zomboid-modeling-docs/animation/animation-sets/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <img src="/images/zomboid_logo.png" />
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/zomboid-modeling-docs/js/lunr.min.js?1653771638"></script>
<script type="text/javascript" src="/zomboid-modeling-docs/js/auto-complete.js?1653771638"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/trynaeat.github.io\/zomboid-modeling-docs\/";
    
</script>
<script type="text/javascript" src="/zomboid-modeling-docs/js/search.js?1653771638"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='/zomboid-modeling-docs'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/zomboid-modeling-docs/animation/" title="Animations" class="dd-item
        parent
        
        
        ">
      <a href="/zomboid-modeling-docs/animation/">
          Animations
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/zomboid-modeling-docs/animation/files/" title="Files" class="dd-item ">
        <a href="/zomboid-modeling-docs/animation/files/">
        Files
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/zomboid-modeling-docs/animation/getting-started/" title="Getting Started" class="dd-item ">
        <a href="/zomboid-modeling-docs/animation/getting-started/">
        Getting Started
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/zomboid-modeling-docs/animation/exporting/" title="Exporting" class="dd-item ">
        <a href="/zomboid-modeling-docs/animation/exporting/">
        Exporting
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/zomboid-modeling-docs/animation/placing-in-pz/" title="Putting Your Animation in Project Zomboid" class="dd-item ">
        <a href="/zomboid-modeling-docs/animation/placing-in-pz/">
        Putting Your Animation in Project Zomboid
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/zomboid-modeling-docs/animation/animation-sets/" title="Animation Sets" class="dd-item active">
        <a href="/zomboid-modeling-docs/animation/animation-sets/">
        Animation Sets
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/zomboid-modeling-docs/modeling/" title="Modeling" class="dd-item
        
        
        
        ">
      <a href="/zomboid-modeling-docs/modeling/">
          Modeling
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
              
                  
                    
                    
                      <option id="en" value="https://trynaeat.github.io/zomboid-modeling-docs/animation/animation-sets/" selected></option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      

      
      </ul>
    </section>
    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/zomboid-modeling-docs/'>Home</a> > <a href='/zomboid-modeling-docs/animation/'>Animations</a> > Animation Sets
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents"></nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Animation Sets
            </h1>
          

        


<p>The next thing you need to do is create your animation sets. These essentially tell the game when/how to play your animation based on certain conditions. They are simply .xml files you can edit with the text-editor of your choice.</p>
<p>This part can involve a bit of trial and error and I suggest searching the vanilla games files to find an action <em>similar</em> to the one you&rsquo;re making which you can adapt. Look in <code>/media/AnimSets/player</code> or <code>/media/AnimSets/player-vehicle</code>. Lets look at an action from the vanilla game, <code>LoadDblBarrel.xml</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;animNode&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;m_Name&gt;</span>LoadDblBarrel<span style="color:#f92672">&lt;/m_Name&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;m_AnimName&gt;</span>Bob_Reload_DBShotgun_Load<span style="color:#f92672">&lt;/m_AnimName&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;m_deferredBoneAxis&gt;</span>Y<span style="color:#f92672">&lt;/m_deferredBoneAxis&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;m_Looped&gt;</span>false<span style="color:#f92672">&lt;/m_Looped&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;m_SyncTrackingEnabled&gt;</span>false<span style="color:#f92672">&lt;/m_SyncTrackingEnabled&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;m_SpeedScale&gt;</span>ReloadSpeed<span style="color:#f92672">&lt;/m_SpeedScale&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;m_BlendTime&gt;</span>0.40<span style="color:#f92672">&lt;/m_BlendTime&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;m_Conditions&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_Name&gt;</span>PerformingAction<span style="color:#f92672">&lt;/m_Name&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_Type&gt;</span>STRING<span style="color:#f92672">&lt;/m_Type&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_StringValue&gt;</span>Reload<span style="color:#f92672">&lt;/m_StringValue&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/m_Conditions&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;m_Conditions&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_Name&gt;</span>WeaponReloadType<span style="color:#f92672">&lt;/m_Name&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_Type&gt;</span>STRING<span style="color:#f92672">&lt;/m_Type&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_StringValue&gt;</span>doublebarrelshotgun<span style="color:#f92672">&lt;/m_StringValue&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/m_Conditions&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;m_Conditions&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_Name&gt;</span>isLoading<span style="color:#f92672">&lt;/m_Name&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_Type&gt;</span>BOOL<span style="color:#f92672">&lt;/m_Type&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_BoolValue&gt;</span>true<span style="color:#f92672">&lt;/m_BoolValue&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/m_Conditions&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;m_Events&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_EventName&gt;</span>loadFinished<span style="color:#f92672">&lt;/m_EventName&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_Time&gt;</span>End<span style="color:#f92672">&lt;/m_Time&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_ParameterValue&gt;&lt;/m_ParameterValue&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/m_Events&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;m_Events&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_EventName&gt;</span>playReloadSound<span style="color:#f92672">&lt;/m_EventName&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_TimePc&gt;</span>0.4<span style="color:#f92672">&lt;/m_TimePc&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_ParameterValue&gt;</span>load<span style="color:#f92672">&lt;/m_ParameterValue&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/m_Events&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;m_Events&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_EventName&gt;</span>changeWeaponSprite<span style="color:#f92672">&lt;/m_EventName&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_TimePc&gt;</span>0.14<span style="color:#f92672">&lt;/m_TimePc&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;m_ParameterValue&gt;</span>ShotgunDoubleBarrel_OPEN<span style="color:#f92672">&lt;/m_ParameterValue&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/m_Events&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/animNode&gt;</span>
</span></span></code></pre></div><p>As the name suggests, this plays the animation for loading a double barrel shotgun. The m_Name prop can be whatever you want it to be called. m_AnimName is the name of your action, again having your filename match your action name can remember what the correct name is for this step.</p>
<p>The m_Conditions nodes let you specify certain animation variable values that trigger your animation. In this case, we check the WeaponReloadType is &ldquo;doublebarrelshotgun&rdquo;. In this case, the weapon&rsquo;s item script specifies this variable, and it&rsquo;s automatically set anytime the user equips a shotgun. If you&rsquo;re making a custom weapon you could give it its own reloadType value and check for that in your own animation set. It also checks that the user isLoading and is in the middle of a reload action. These are all set by various Lua scripts in the game. For more complicated use-cases you can write Lua scripts to set whatever animation variables you want, then design your AnimationSet to react to them.</p>
<p>You&rsquo;ll also notice the m_Events nodes. These do the opposite, they <em>trigger</em> game events when certain points are reached in your animation. In this case it&rsquo;s used to play a sound and also switch the weapon to the opened-up version before the player starts moving their hand to insert shells inside.</p>
<p>You can copy/paste a vanilla animation and tweak it to your needs. Another nice thing you can do is extend an existing animation set and only tweak the nodes that you need to be different. Let&rsquo;s look at an example I created for the Crossbow reload:</p>
<pre tabindex="0"><code>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;animNode x_extends=&#34;LoadDblBarrel.xml&#34;&gt;
	&lt;m_Name&gt;LoadCrossbow&lt;/m_Name&gt;
	&lt;m_Conditions /&gt;
	&lt;m_Conditions&gt;
		&lt;m_StringValue&gt;Crossbow&lt;/m_StringValue&gt;
	&lt;/m_Conditions&gt;
	&lt;m_Conditions /&gt;
	&lt;m_Events /&gt;
	&lt;m_Events /&gt;
	&lt;m_Events&gt;
		&lt;m_ParameterValue&gt;Hydrocraft.Crossbow&lt;/m_ParameterValue&gt;
	&lt;/m_Events&gt;
&lt;/animNode&gt;
</code></pre><p>You&rsquo;ll see I&rsquo;ve overridden the second condition, to instead check that the Crossbow reload is happening rather than a typical dblbarrel reload. I also overrode the last event, so the weapon sprite gets set to an empty crossbow rather than an open shotgun. Otherwise I completely reused the existing dblbarrel animation set (and indeed the animation itself).</p>
<p>When you&rsquo;ve created your Animation Set, you want to place it in your mods <code>media/AnimSets/player</code> or <code>media/AnimSets/player-vehice</code> folder.</p>
<p><img src="/images/sample_anim_6.PNG" alt="sample_anim_6"></p>
<p>Note that if you tweak your sets while the game is running, it will reload the xml file so you don&rsquo;t need to reboot the game every time. If you add a new one though, you&rsquo;ll need to reboot the game.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/zomboid-modeling-docs/animation/placing-in-pz/" title="Putting Your Animation in Project Zomboid"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/zomboid-modeling-docs/modeling/" title="Modeling" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/zomboid-modeling-docs/js/clipboard.min.js?1653771638"></script>
    <script src="/zomboid-modeling-docs/js/perfect-scrollbar.min.js?1653771638"></script>
    <script src="/zomboid-modeling-docs/js/perfect-scrollbar.jquery.min.js?1653771638"></script>
    <script src="/zomboid-modeling-docs/js/jquery.sticky.js?1653771638"></script>
    <script src="/zomboid-modeling-docs/js/featherlight.min.js?1653771638"></script>
    <script src="/zomboid-modeling-docs/js/highlight.pack.js?1653771638"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/zomboid-modeling-docs/js/modernizr.custom-3.6.0.js?1653771638"></script>
    <script src="/zomboid-modeling-docs/js/learn.js?1653771638"></script>
    <script src="/zomboid-modeling-docs/js/hugo-learn.js?1653771638"></script>
    
        
            <script src="/zomboid-modeling-docs/mermaid/mermaid.js?1653771638"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

